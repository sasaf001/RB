<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Zwilling Beauty Group </title>
    <title>Welcome to HR-Test-App </title>
</head>
<body>
    <h2>Welcome to HR-Test-App</h2>
    <form id="userForm">
        <label for="login">Login:</label>
        <input type="email" id="login" name="login" required><br><br>
        
        <label for="firstName">Vorname:</label>
        <input type="text" id="firstName" name="firstName"><br><br>
        
        <label for="lastName">Nachname:</label>
        <input type="text" id="lastName" name="lastName"><br><br>
        
        <label for="middleName">Zweiter Vorname:</label>
        <input type="text" id="middleName" name="middleName"><br><br>
        
        <label for="honorificPrefix">Anrede (Prefix):</label>
        <input type="text" id="honorificPrefix" name="honorificPrefix"><br><br>
        
        <label for="honorificSuffix">Titel (Suffix):</label>
        <input type="text" id="honorificSuffix" name="honorificSuffix"><br><br>
        
        <label for="email">Email:</label>
        <input type="email" id="email" name="email"><br><br>
        
        <label for="title">Titel:</label>
        <input type="text" id="title" name="title"><br><br>
        
        <label for="displayName">Anzeigename:</label>
        <input type="text" id="displayName" name="displayName"><br><br>
        
        <label for="nickName">Spitzname:</label>
        <input type="text" id="nickName" name="nickName"><br><br>
        
        <label for="profileUrl">Profil-URL:</label>
        <input type="text" id="profileUrl" name="profileUrl"><br><br>
        
        <label for="secondEmail">Zweit-Email:</label>
        <input type="email" id="secondEmail" name="secondEmail"><br><br>
        
        <label for="mobilePhone">Handynummer:</label>
        <input type="tel" id="mobilePhone" name="mobilePhone"><br><br>
        
        <label for="primaryPhone">Primäre Telefonnummer:</label>
        <input type="tel" id="primaryPhone" name="primaryPhone"><br><br>
        
        <label for="streetAddress">Straße:</label>
        <input type="text" id="streetAddress" name="streetAddress"><br><br>
        
        <label for="city">Stadt:</label>
        <input type="text" id="city" name="city"><br><br>
        
        <label for="state">Bundesland:</label>
        <input type="text" id="state" name="state"><br><br>
        
        <label for="zipCode">Postleitzahl:</label>
        <input type="text" id="zipCode" name="zipCode"><br><br>
        
        <label for="countryCode">Ländercode:</label>
        <input type="text" id="countryCode" name="countryCode"><br><br>
        
        <label for="postalAddress">Postadresse:</label>
        <input type="text" id="postalAddress" name="postalAddress"><br><br>
        
        <label for="preferredLanguage">Bevorzugte Sprache:</label>
        <input type="text" id="preferredLanguage" name="preferredLanguage"><br><br>
        
        <label for="locale">Ortsangabe:</label>
        <input type="text" id="locale" name="locale"><br><br>
        
        <label for="timezone">Zeitzone:</label>
        <input type="text" id="timezone" name="timezone"><br><br>
        
        <label for="userType">Benutzertyp:</label>
        <input type="text" id="userType" name="userType"><br><br>
        
        <label for="employeeNumber">Mitarbeiternummer:</label>
        <input type="text" id="employeeNumber" name="employeeNumber"><br><br>
        
        <label for="costCenter">Kostenstelle:</label>
        <input type="text" id="costCenter" name="costCenter"><br><br>
        
        <label for="organization">Organisation:</label>
        <input type="text" id="organization" name="organization"><br><br>
        
        <label for="division">Abteilung:</label>
        <input type="text" id="division" name="division"><br><br>
        
        <label for="department">Fachbereich:</label>
        <input type="text" id="department" name="department"><br><br>
        
        <label for="managerId">Manager ID:</label>
        <input type="text" id="managerId" name="managerId"><br><br>
        
        <label for="manager">Manager:</label>
        <input type="text" id="manager" name="manager"><br><br>
        
        <label for="employeStatus">Mitarbeiterstatus:</label>
        <input type="text" id="employeStatus" name="employeStatus"><br><br>
        
        <input type="button" value="Abrufen" onclick="fetchUserData()">
        <input type="button" value="Aktualisieren" onclick="updateUserData()">
    </form>

    <script>
        async function fetchUserData() {
            const login = document.getElementById('login').value;
            const response = await fetch(`https://demo-green-puma-81717.okta.com/api/v1/users/${login}`, {
                method: 'GET',
                headers: {
                    'Authorization': '00pKU38MmlaAOr-_c7UDha06cUcl0krxY76vLPVtwh',
                    'Accept': 'application/json'
                }
            });

            if (response.ok) {
                const userData = await response.json();
                // Fülle die anderen Felder mit den Benutzerdaten
                // Beispiel: document.getElementById('firstName').value = userData.profile.firstName;
            } else {
                alert('Fehler beim Abrufen der Benutzerdaten.');
            }
        }

        async function updateUserData() {
            const login = document.getElementById('login').value;
            const userData = {
                profile: {
                    // Fülle die Benutzerdaten von den Formularfeldern
                    // Beispiel: firstName: document.getElementById('firstName').value
                }
            };

            const response = await fetch(`https://demo-green-puma-81717.okta.com/api/v1/users/${login}`, {
                method: 'POST',
                headers: {
                    'Authorization': 'SSWS 00pKU38MmlaAOr-_c7UDha06cUcl0krxY76vLPVtwh',
                    'Content-Type': 'application/json',
                    'Accept': 'application/json'
                },
                body: JSON.stringify(userData)
            });

            if (response.ok) {
                alert('Benutzerdaten erfolgreich aktualisiert.');
            } else {
                alert('Fehler beim Aktualisieren der Benutzerdaten.');
            }
        }
    </script>
</body>
</html>
